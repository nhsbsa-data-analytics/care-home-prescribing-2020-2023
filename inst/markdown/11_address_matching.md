## Address Matching

Prescribing estimates are based on a sophisticated methodology which matched primary care prescription address data to address information from [Ordnance Survey AddressBase (AB)](https://www.ordnancesurvey.co.uk/business-government/products/addressbase) and the [Care Quality Commission (CQC)](https://anypoint.mulesoft.com/exchange/portals/care-quality-commission-5/4d36bd23-127d-4acf-8903-ba292ea615d4/cqc-syndication-1/). The address matching method has been made available as an R package named [<code>{<u>addressMatchR</u>}</code>](https://github.com/nhsbsa-data-analytics/addressMatchR). Both patient and lookup addresses (AB combined with CQC data) required a Single Line Address (SLA) for the matching process. SLAs were generated by combining all address information into a single data field. There were four ways prescription forms were classified as belonging to a care home. They were performed in the following order:

1. Exact match
2. Non-exact match
3. Patient count match
4. Keyword match

### Exact match

When a prescription form SLA was matched exactly to a care home SLA.

### Non-exact match

When SLA could not be exact matched, a match score was generated using the individual words (tokens) in the patient and lookup addresses. A non-exact match is when the highest scoring match using this method was a care home address. This was the most technical match type and the foundation of the {addressMatchR} package.

### Patient count match

Two additional methods were applied to patient addresses that could not be exact or non-exact matched. The first of these was to assign care home status according to the following criteria:

- the patient address shared a postcode with a known care home
- five or more patients received prescribing at this address in a single month
- the patient address did not include some exclusion terms, such as ‘hospital’

The threshold of five or more patients was identified through a data validation process.

### Keyword match

The final match type looked at keywords appearing in patient addresses. If a patient address contained the term ‘care home’, ‘nursing home’, ‘residential home’, or ‘rest home’, it was classified as being a care home.

Each match type led to a different number of prescription forms classified as being from a care home. In 2020/21:

- 3.9m forms were exact matched to a care home
- 11.5m forms were non-exact matched to a care home
- 0.3m forms were patient-count matched to a care home
- 0.4m forms were keyword matched to a care home

A comprehensive validation exercise using the 2020/21 data estimated the overall accuracy of correctly classifying a prescription form to a care home at 99.6%. With the methodology being consistent a similar level of accuracy can be expected for the 2021/22 and 2022/23 data. The validation only focused on false-positive matches. This was where a patient address record was incorrectly labelled as being a care home. No work was done to gauge the extent of false-negatives, namely patient address records that were care homes although not labelled as such. More information around validation accuracy estimates can be found within part 6 of the full methodology. [This is described in full on a blog post on RPubs](https://rpubs.com/nhsbsa-data-analytics/methodology).

Throughout the project the NHSBSA ensured data was protected and secure and adhered to the Caldicott Guardian principles.
